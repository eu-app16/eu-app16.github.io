
<!DOCTYPE html>
<html>
  <head>
    <style>
        /*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */

        /**
         * 1. Change the default font family in all browsers (opinionated).
         * 2. Prevent adjustments of font size after orientation changes in IE and iOS.
         */

        html {
          font-family: sans-serif; /* 1 */
          -ms-text-size-adjust: 100%; /* 2 */
          -webkit-text-size-adjust: 100%; /* 2 */
        }

        /**
         * Remove the margin in all browsers (opinionated).
         */

        body {
          margin: 0;
        }

        /* HTML5 display definitions
           ========================================================================== */

        /**
         * Add the correct display in IE 9-.
         * 1. Add the correct display in Edge, IE, and Firefox.
         * 2. Add the correct display in IE.
         */

        article,
        aside,
        details, /* 1 */
        figcaption,
        figure,
        footer,
        header,
        main, /* 2 */
        menu,
        nav,
        section,
        summary { /* 1 */
          display: block;
        }

        /**
         * Add the correct display in IE 9-.
         */

        audio,
        canvas,
        progress,
        video {
          display: inline-block;
        }

        /**
         * Add the correct display in iOS 4-7.
         */

        audio:not([controls]) {
          display: none;
          height: 0;
        }

        /**
         * Add the correct vertical alignment in Chrome, Firefox, and Opera.
         */

        progress {
          vertical-align: baseline;
        }

        /**
         * Add the correct display in IE 10-.
         * 1. Add the correct display in IE.
         */

        template, /* 1 */
        [hidden] {
          display: none;
        }

        /* Links
           ========================================================================== */

        /**
         * 1. Remove the gray background on active links in IE 10.
         * 2. Remove gaps in links underline in iOS 8+ and Safari 8+.
         */

        a {
          background-color: transparent; /* 1 */
          -webkit-text-decoration-skip: objects; /* 2 */
        }

        /**
         * Remove the outline on focused links when they are also active or hovered
         * in all browsers (opinionated).
         */

        a:active,
        a:hover {
          outline-width: 0;
        }

        /* Text-level semantics
           ========================================================================== */

        /**
         * 1. Remove the bottom border in Firefox 39-.
         * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
         */

        abbr[title] {
          border-bottom: none; /* 1 */
          text-decoration: underline; /* 2 */
          text-decoration: underline dotted; /* 2 */
        }

        /**
         * Prevent the duplicate application of `bolder` by the next rule in Safari 6.
         */

        b,
        strong {
          font-weight: inherit;
        }

        /**
         * Add the correct font weight in Chrome, Edge, and Safari.
         */

        b,
        strong {
          font-weight: bolder;
        }

        /**
         * Add the correct font style in Android 4.3-.
         */

        dfn {
          font-style: italic;
        }

        /**
         * Correct the font size and margin on `h1` elements within `section` and
         * `article` contexts in Chrome, Firefox, and Safari.
         */

        h1 {
          font-size: 2em;
          margin: 0.67em 0;
        }

        /**
         * Add the correct background and color in IE 9-.
         */

        mark {
          background-color: #ff0;
          color: #000;
        }

        /**
         * Add the correct font size in all browsers.
         */

        small {
          font-size: 80%;
        }

        /**
         * Prevent `sub` and `sup` elements from affecting the line height in
         * all browsers.
         */

        sub,
        sup {
          font-size: 75%;
          line-height: 0;
          position: relative;
          vertical-align: baseline;
        }

        sub {
          bottom: -0.25em;
        }

        sup {
          top: -0.5em;
        }

        /* Embedded content
           ========================================================================== */

        /**
         * Remove the border on images inside links in IE 10-.
         */

        img {
          border-style: none;
        }

        /**
         * Hide the overflow in IE.
         */

        svg:not(:root) {
          overflow: hidden;
        }

        /* Grouping content
           ========================================================================== */

        /**
         * 1. Correct the inheritance and scaling of font size in all browsers.
         * 2. Correct the odd `em` font sizing in all browsers.
         */

        code,
        kbd,
        pre,
        samp {
          font-family: monospace, monospace; /* 1 */
          font-size: 1em; /* 2 */
        }

        /**
         * Add the correct margin in IE 8.
         */

        figure {
          margin: 1em 40px;
        }

        /**
         * 1. Add the correct box sizing in Firefox.
         * 2. Show the overflow in Edge and IE.
         */

        hr {
          box-sizing: content-box; /* 1 */
          height: 0; /* 1 */
          overflow: visible; /* 2 */
        }

        /* Forms
           ========================================================================== */

        /**
         * 1. Change font properties to `inherit` in all browsers (opinionated).
         * 2. Remove the margin in Firefox and Safari.
         */

        button,
        input,
        select,
        textarea {
          font: inherit; /* 1 */
          margin: 0; /* 2 */
        }

        /**
         * Restore the font weight unset by the previous rule.
         */

        optgroup {
          font-weight: bold;
        }

        /**
         * Show the overflow in IE.
         * 1. Show the overflow in Edge.
         */

        button,
        input { /* 1 */
          overflow: visible;
        }

        /**
         * Remove the inheritance of text transform in Edge, Firefox, and IE.
         * 1. Remove the inheritance of text transform in Firefox.
         */

        button,
        select { /* 1 */
          text-transform: none;
        }

        /**
         * 1. Prevent a WebKit bug where (2) destroys native `audio` and `video`
         *    controls in Android 4.
         * 2. Correct the inability to style clickable types in iOS and Safari.
         */

        button,
        html [type="button"], /* 1 */
        [type="reset"],
        [type="submit"] {
          -webkit-appearance: button; /* 2 */
        }

        /**
         * Remove the inner border and padding in Firefox.
         */

        button::-moz-focus-inner,
        [type="button"]::-moz-focus-inner,
        [type="reset"]::-moz-focus-inner,
        [type="submit"]::-moz-focus-inner {
          border-style: none;
          padding: 0;
        }

        /**
         * Restore the focus styles unset by the previous rule.
         */

        button:-moz-focusring,
        [type="button"]:-moz-focusring,
        [type="reset"]:-moz-focusring,
        [type="submit"]:-moz-focusring {
          outline: 1px dotted ButtonText;
        }

        /**
         * Change the border, margin, and padding in all browsers (opinionated).
         */

        fieldset {
          border: 1px solid #c0c0c0;
          margin: 0 2px;
          padding: 0.35em 0.625em 0.75em;
        }

        /**
         * 1. Correct the text wrapping in Edge and IE.
         * 2. Correct the color inheritance from `fieldset` elements in IE.
         * 3. Remove the padding so developers are not caught out when they zero out
         *    `fieldset` elements in all browsers.
         */

        legend {
          box-sizing: border-box; /* 1 */
          color: inherit; /* 2 */
          display: table; /* 1 */
          max-width: 100%; /* 1 */
          padding: 0; /* 3 */
          white-space: normal; /* 1 */
        }

        /**
         * Remove the default vertical scrollbar in IE.
         */

        textarea {
          overflow: auto;
        }

        /**
         * 1. Add the correct box sizing in IE 10-.
         * 2. Remove the padding in IE 10-.
         */

        [type="checkbox"],
        [type="radio"] {
          box-sizing: border-box; /* 1 */
          padding: 0; /* 2 */
        }

        /**
         * Correct the cursor style of increment and decrement buttons in Chrome.
         */

        [type="number"]::-webkit-inner-spin-button,
        [type="number"]::-webkit-outer-spin-button {
          height: auto;
        }

        /**
         * 1. Correct the odd appearance in Chrome and Safari.
         * 2. Correct the outline style in Safari.
         */

        [type="search"] {
          -webkit-appearance: textfield; /* 1 */
          outline-offset: -2px; /* 2 */
        }

        /**
         * Remove the inner padding and cancel buttons in Chrome and Safari on OS X.
         */

        [type="search"]::-webkit-search-cancel-button,
        [type="search"]::-webkit-search-decoration {
          -webkit-appearance: none;
        }

        /**
         * Correct the text style of placeholders in Chrome, Edge, and Safari.
         */

        ::-webkit-input-placeholder {
          color: inherit;
          opacity: 0.54;
        }

        /**
         * 1. Correct the inability to style clickable types in iOS and Safari.
         * 2. Change font properties to `inherit` in Safari.
         */

        ::-webkit-file-upload-button {
          -webkit-appearance: button; /* 1 */
          font: inherit; /* 2 */
        }


/** START OF STYLES HERE */


        #b { 
          background-image: linear-gradient(to right, grey 1px, transparent 1px), linear-gradient(to bottom, grey 1px, transparent 1px);
          position: absolute;
	  width: 100%; height: 100%;
        }
        #Yaxis {
          padding: 0;
          margin: 0;
          position: absolute;
          height: 95%;
          margin-top: 2%;
          border-left: 3px solid black;

        }

        #Xaxis {
          padding: 0;
          margin: 0;
          position: absolute;
          width: 95%;
          border-bottom: 3px solid black;
          margin-left: 2%;
        }
        .triangleUp{
          border-top: 5px solid black;
          border-right: 5px solid black;
          border-left: 20px solid transparent;
          border-bottom: 20px solid transparent;
          transform: rotate(-45deg);
          margin-left: -14px;
          
        }
        .triangleRight {
          position: absolute;
          width: 0; 
          height: 0; 
          border-top: 15px solid transparent;
          border-bottom: 15px solid transparent;
          border-left: 20px solid black;
          margin-left: 100%;
          margin-top: -13px;
        }

        .form {
          color: #fff;
          position: absolute;
          margin: 2% 1%;
          padding: 10px;
          background-color: #26a69a;
          box-shadow: 0 12px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
          width: 96%;
	  clear: both;
	}

        .units {
          margin: 10px 0;
          height: 1em;
          background-color: transparent;
          border: none;
          border-bottom: 2px solid #9e9e9e;
          outline: none;
          width: 100%;
          box-shadow: none;

        }

        .btn {
	  text-decoration: none;
	  color: #fff;
	  background-color: #ee6e73;
	  text-align: center;
	  letter-spacing: .5px;
	  transition: .2s ease-out;
	  cursor: pointer;
	  border: none;
	  border-radius: 2px;
	  display: inline-block;
	  height: 36px;
	  line-height: 36px;
	  outline: 0;
	  padding: 0 2rem;
	  margin: 5px;
	}
	.submit{
	  width: 100%
	}
	#plot{
	  max-width: 100%;
	  max-height: 100%;
	}
	.vector{
	  width: 50px;
	  text-align: center;
	}


    </style>
    <title>Układ współrzędnych</title>
    <meta name="author" content"Olaf Górski">
    <meta name="date" content="2016-06-06">
    <!-- don't lurk around the code dear mr. char(83) -->
  </head>
  <body>
    <div id="b" style=""></div>
    <div id="Yaxis"><div class="triangleUp"></div></div>
    <div id="Xaxis"><div class="triangleRight"></div></div>
    <canvas id="plot"></canvas>
    <div class="form">
        <form>
            <label>Ilość jednostek</label>
            <input autocomplete="off" type="number" maxlength="2" class="units" id="number_of_units" value="20"/>
            <button type="button" onclick="add_grid()" class="btn submit">ZMIEŃ ILOŚĆ JEDNOSTEK</button>
        </form>
	<form>
	  <p>Podstawowe wykresy</p>
	    <button type="button" onclick="x2();" class="btn">x<sup>2</sup></button>
	    <button type="button" onclick="x3();" class="btn">x<sup>3</sup></button>
	    <button type="button" onclick="abs();" class="btn">|x|</button>
	    <button type="button" onclick="sgn();" class="btn">sgn(x)</button>
	    <button type="button" onclick="floor();" class="btn">[x]</button>
	    <button type="button" onclick="rest();" class="btn">x-[x]</button>
	    <button type="button" onclick="over();" class="btn">1/x</button>
	    <button type="button" onclick="sqrt();" class="btn">√x</button>
	    <button type="button" onclick="cube();" class="btn"><sup>3</sup>√x</button>
	</form>
	<form>
	    <button type="button" onclick="trans();" class="btn">T<sub>u=[p,q]</sub></button>
	    p=<input autocomplete="off" id="vector_p" value=0 class="units vector"/>
	    q=<input autocomplete="off" id="vector_q" value=0 class="units vector"/>
	</form>
    </div>
  </body>
    <script>
//my javascript sucks so badly, I hate it
      var c = document.getElementById("plot");
      c.width = window.innerWidth*0.98;
      c.height = window.innerHeight*0.98;
      var ctx = c.getContext("2d");
      ctx.lineWidth = "3";
      ctx.strokeStyle = "red";
      var number_of_rows = document.getElementById("number_of_units").value;
      var unit_length = Math.floor(window.screen.availHeight/number_of_rows);
      var Xaxis = Math.round(document.getElementById("Yaxis").style.marginLeft.slice(0,-2));
      var Yaxis = Math.round(document.getElementById("Xaxis").style.marginTop.slice(0,-2));
      var vector_p = document.getElementById("vector_p").value;
      var vector_q = document.getElementById("vector_q").value;
      function add_grid(){
	ctx.clearRect(0, 0, c.width, c.height);
	number_of_rows = document.getElementById("number_of_units").value;
	unit_length = Math.floor(window.screen.availHeight/number_of_rows);
    	document.getElementById("b").style.backgroundSize = unit_length+"px "+unit_length+"px";
        document.getElementById("Yaxis").style.marginLeft = (unit_length*Math.floor(window.screen.availWidth/unit_length/2)-1.5)+"px";
        document.getElementById("Xaxis").style.marginTop = Math.floor(number_of_rows/2)*unit_length-1.5+"px";
	Xaxis = parseFloat(document.getElementById("Yaxis").style.marginLeft.slice(0,-2))+2;
	Yaxis = parseFloat(document.getElementById("Xaxis").style.marginTop.slice(0,-2))+2;

      }
      function trans(){
	vector_p = document.getElementById("vector_p").value;
	vector_q = document.getElementById("vector_q").value;
	c.style.marginLeft = vector_p*unit_length+"px";
	c.style.marginTop = -(vector_q*unit_length)+"px";
      }
      function x2(){
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis-c.width, Yaxis+(-c.width*c.width/unit_length));	
	for(var i = -c.width/2; i < c.width/2; i++){
	  ctx.lineTo(Xaxis+i, Yaxis+(-i*i/unit_length));
	}
	ctx.stroke();
	ctx.closePath();

      }
      function x3(){
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis-c.width, Yaxis+(-c.width*c.width/unit_length*c.width/unit_length));	
	for(var i = -c.width/2; i < c.width/2; i++){
	  ctx.lineTo(Xaxis+i, Yaxis+(-i*i*i/unit_length/unit_length));
	}
	ctx.stroke();
	ctx.closePath();

      }
      function abs(){
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis-c.width, Yaxis+(Math.abs(c.width/2)));	
	for(var i = -c.width/2; i < c.width/2; i++){
	  ctx.lineTo(Xaxis+i, Yaxis+(-Math.abs(i)));
	}
	ctx.stroke();
	ctx.closePath();

      }
      function sgn(){
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis, Yaxis);
	ctx.arc(Xaxis, Yaxis, 8, 0, 2 * Math.PI);
	ctx.fill();
	ctx.moveTo(Xaxis-(c.width/2), Yaxis+unit_length);	
	ctx.lineTo(Xaxis, Yaxis+unit_length);
	ctx.arc(Xaxis, Yaxis+unit_length, 8, 0, 2 * Math.PI);

	ctx.moveTo(Xaxis, Yaxis-unit_length);
	ctx.arc(Xaxis, Yaxis-unit_length, 8, 0, 2 * Math.PI);
	ctx.lineTo(Xaxis+(c.width/2), Yaxis-unit_length);
	ctx.stroke();
	ctx.closePath();
      }
      function floor(){
	ctx.strokeStyle="red";
	ctx.lineWidth="4"
	ctx.clearRect(0, 0, c.width, c.height);
	var starting_x = Xaxis-number_of_rows*unit_length;
	var starting_y = Yaxis+number_of_rows*unit_length;
	for( var i = 0; i <= number_of_rows*2; i++ ){
	ctx.beginPath();
	ctx.moveTo(starting_x+i*unit_length, starting_y-i*unit_length);
	ctx.arc(starting_x+i*unit_length, starting_y-i*unit_length, 8, 0, 2 * Math.PI);
	ctx.fill();
	ctx.lineTo(starting_x+(i+1)*unit_length, starting_y-i*unit_length);
	ctx.arc(starting_x+(i+1)*unit_length, starting_y-i*unit_length, 8, 0, 2 * Math.PI);
	ctx.stroke();
	ctx.closePath();
	}
	ctx.strokeStyle="red";
	ctx.lineWidth="3";
      }
      function rest(){
	ctx.clearRect(0, 0, c.width, c.height);
	var starting_x = Xaxis-number_of_rows*unit_length;
	for( var i = 0; i <= number_of_rows*2; i++ ){
	ctx.beginPath()
	ctx.moveTo(starting_x+i*unit_length, Yaxis);
	ctx.arc(starting_x+i*unit_length, Yaxis, 8, 0, 2 * Math.PI);
	ctx.fill();
	ctx.moveTo(starting_x+i*unit_length, Yaxis);
	ctx.lineTo(starting_x+(i+1)*unit_length, Yaxis-unit_length);
	ctx.moveTo(starting_x+(i+1)*unit_length, Yaxis-unit_length);
	ctx.arc(starting_x+(i+1)*unit_length, Yaxis-unit_length, 8, 0, 2 * Math.PI);
	ctx.stroke();
	ctx.closePath();
	}
      }
      function over(){
	ctx.lineWidth="2";
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	var starting_x = Xaxis-(number_of_rows*unit_length);
	ctx.moveTo(starting_x, Yaxis+(1/number_of_rows))
	var x_offset = 0.0;
	for(var i = -number_of_rows; i < -0.01; i+=0.06){
	  x_offset += 0.06;
	  ctx.lineTo(starting_x+(Math.floor(x_offset*unit_length-2)), Yaxis-((1/i)*unit_length)+2);
	  //ctx.lineTo(starting_x+x_offset, Yaxis+(1/i*100));
	}
	x_offset = 0.0
	ctx.moveTo(Xaxis+(0.3*unit_length), Yaxis-((1/0.08)*unit_length));
	for(var i = 0.01; i < number_of_rows; i+=0.06){
		x_offset+=0.06;
	  ctx.lineTo(Xaxis+(Math.floor(x_offset*unit_length)+0.5), Yaxis-((1/i)*unit_length)-2);
	}

	ctx.stroke();
	ctx.closePath();
	ctx.lineWidth="3";
      }
      function sqrt(){
	ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis, Yaxis);
	for(var i = 0; i < unit_length*number_of_rows; i++){
	  ctx.lineTo(Xaxis+i, Yaxis-(Math.sqrt(i*unit_length)));
	}
	ctx.stroke();
	ctx.closePath();
      }
      function cube(){
        ctx.clearRect(0, 0, c.width, c.height);
	ctx.beginPath();
	ctx.moveTo(Xaxis, Yaxis);
	for(var i = 0; i < unit_length*number_of_rows; i++){
	  ctx.lineTo(Xaxis+i, Yaxis-(Math.pow(i*unit_length*unit_length, 1/3)));
	}
	ctx.stroke();
	ctx.closePath();
      }

      add_grid();
    </script>
</html>
